(this.webpackJsonpreactcrud=this.webpackJsonpreactcrud||[]).push([[0],{356:function(e,t,a){e.exports=a(442)},441:function(e,t,a){},442:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(15),l=a.n(r),c=a(88),s=a(180),i=a(181),m=a(203),u=a(202),h=(a(361),a(95)),d=a(93),p=a(236),g=a(312),f=a(237),E=a(241),b=a(313),v=a(314),j=a(63),k=a.n(j),w=a(464),O=a(474),P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChangeProject=n.onChangeProject.bind(Object(d.a)(n)),n.onChangeTask=n.onChangeTask.bind(Object(d.a)(n)),n.onChangeProgrammer=n.onChangeProgrammer.bind(Object(d.a)(n)),n.onChangeStatus=n.onChangeStatus.bind(Object(d.a)(n)),n.onSubmit=n.onSubmit.bind(Object(d.a)(n)),n.state={open:!1,date:"",project:"",task:"",programmer:"",status:""},n}return Object(i.a)(a,[{key:"onChangeProject",value:function(e){this.setState({project:e.target.value})}},{key:"onChangeTask",value:function(e){this.setState({task:e.target.value})}},{key:"onChangeProgrammer",value:function(e){this.setState({programmer:e.target.value})}},{key:"onChangeStatus",value:function(e){this.setState({status:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={project:this.state.project,task:this.state.task,programmer:this.state.programmer,status:this.state.status},n=new Date,o=n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear();a=Object(h.a)(Object(h.a)({},a),{},{date:o}),k.a.post("http://localhost:4000/projects/add",a).then((function(e){t.setState({open:!0}),setTimeout((function(){t.setState({open:!1})}),5e3)})),this.setState({date:"",project:"",task:"",programmer:"",status:""})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"card p-3 col-6"},o.a.createElement("h4",null,"Add Project"),o.a.createElement(p.a,null,o.a.createElement(g.a,{id:"project-name",label:"Project Name",onChange:this.onChangeProject,value:this.state.project})),o.a.createElement("br",null),o.a.createElement(p.a,null,o.a.createElement(g.a,{id:"project-task",label:"Task",onChange:this.onChangeTask,value:this.state.task})),o.a.createElement("br",null),o.a.createElement(p.a,null,o.a.createElement(f.a,{id:"programmer-label"},"Progarmmer"),o.a.createElement(E.a,{labelId:"programmer",id:"programmer",onChange:this.onChangeProgrammer,value:this.state.programmer},o.a.createElement(b.a,{value:"Prachi"},"Prachi"),o.a.createElement(b.a,{value:"Ketan"},"Ketan"),o.a.createElement(b.a,{value:"Karishma"},"Karishma"),o.a.createElement(b.a,{value:"Kaleem"},"Kaleem"))),o.a.createElement("br",null),o.a.createElement(p.a,null,o.a.createElement(f.a,{id:"status-label"},"Status"),o.a.createElement(E.a,{labelId:"status",id:"status",onChange:this.onChangeStatus,value:this.state.status},o.a.createElement(b.a,{value:"completed"},"Completed"),o.a.createElement(b.a,{value:"in-process"},"In Process"),o.a.createElement(b.a,{value:"on-hold"},"On Hold"))),o.a.createElement("br",null),o.a.createElement(p.a,null,o.a.createElement(v.a,{variant:"contained",color:"primary",className:"float-right",type:"submit"},"Save")))),o.a.createElement(w.a,{open:this.state.open,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"left"}},o.a.createElement(O.a,{severity:"success",className:"alert alert-primary"},"Project added successfully")))}}]),a}(n.Component),C=a(201),y=a(28),S=a(194),D=a.n(S),K=a(473),N=a(349),x=a.n(N),T=[{title:"Project Name",field:"project"},{title:"Programmer",field:"programmer",lookup:{Prachi:"Prachi",Ketan:"Ketan",Karishma:"Karishma",Kaleem:"Kaleem"}},{title:"Task",field:"task"},{title:"Status",field:"status",lookup:{"in-process":"In Process","on-hold":"On Hold",completed:"Completed"}},{title:"Open",field:"action",render:function(e){return o.a.createElement(c.b,{to:{pathname:"/details",rowData:e}},o.a.createElement(v.a,{variant:"contained",color:"primary",className:"float-right"},"Open"))}}];function I(){Object(y.f)();var e=Object(n.useState)([]),t=Object(C.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){k.a.get("http://localhost:4000/projects").then((function(e){r(e.data.reverse()),console.log(a)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{position:"fixed",bottom:"20px",right:"20px"}},o.a.createElement(c.b,{to:"/create"},o.a.createElement(K.a,{color:"primary","aria-label":"add",size:"small"},o.a.createElement(x.a,null)))),o.a.createElement(D.a,{title:"Project tracker",columns:T,data:a,options:{actionsColumnIndex:-1,addRowPosition:"first"}}))}var H=[{title:"Date",field:"date",editable:"never"},{title:"Programmer",field:"programmer",lookup:{Prachi:"Prachi",Ketan:"Ketan",Karishma:"Karishma",Kaleem:"Kaleem"}},{title:"Task",field:"task"},{title:"Status",field:"status",lookup:{"in-process":"In Process","on-hold":"On Hold",completed:"Completed"}}];function R(e){var t=Object(y.f)(),a=Object(n.useState)([]),r=Object(C.a)(a,2),l=r[0],c=r[1];return void 0==e.location.rowData&&t.push("/"),Object(n.useEffect)((function(){k.a.get("http://localhost:4000/tasks/history/"+e.location.rowData.project).then((function(e){c(e.data.reverse()),console.log(l)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,o.a.createElement("span",{className:"small-font"},"Project:")," ",o.a.createElement("span",{className:"text-primary"},e.location.rowData.project)),o.a.createElement("hr",{className:"hr"}),o.a.createElement("p",null,"Last task ",o.a.createElement("b",null,e.location.rowData.task)," done by"," ",o.a.createElement("b",null,e.location.rowData.programmer)," and status :"," ",o.a.createElement("b",null,e.location.rowData.status)),o.a.createElement(D.a,{title:"Task History",columns:H,data:l,options:{actionsColumnIndex:-1,addRowPosition:"first"},editable:{onRowAdd:function(t){return new Promise((function(a){a();var n=new Date,o=n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear();t=Object(h.a)(Object(h.a)({},t),{},{date:o}),t=Object(h.a)(Object(h.a)({},t),{},{project:e.location.rowData.project}),k.a.post("http://localhost:4000/tasks/add",t).then((function(t){return k.a.get("http://localhost:4000/tasks/history/"+e.location.rowData.project).then((function(e){c(e.data.reverse())})).catch((function(e){console.log(e)}))}))}))},onRowUpdate:function(t,a){return new Promise((function(n){n(),a&&k.a.post("http://localhost:4000/tasks/update/"+a._id,t).then((function(t){return k.a.get("http://localhost:4000/tasks/history/"+e.location.rowData.project).then((function(e){c(e.data.reverse())})).catch((function(e){console.log(e)}))}))}))},onRowDelete:function(t){return new Promise((function(a){a(),1==l.length&&console.log("Cant delete the last task consider deleting the project"),k.a.get("http://localhost:4000/tasks/delete/"+t._id).then((function(t){return k.a.get("http://localhost:4000/tasks/history/"+e.location.rowData.project).then((function(e){c(e.data.reverse())})).catch((function(e){console.log(e)}))})).catch((function(e){return console.log(e)}))}))}}}))}a(441);var F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(c.a,null,o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"header row bg-primary p-2"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("img",{src:"https://www.iresearchservices.com/public/frontend/assets/images/logo.png",alt:"irs logo"})),o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"float-right "},o.a.createElement(c.b,{className:"btn text-white m-2",to:"/"},"Home"))))))),o.a.createElement("br",null),o.a.createElement("div",{className:"container"},o.a.createElement(y.c,null,o.a.createElement(y.a,{exact:!0,path:"/",component:I}),o.a.createElement(y.a,{exact:!0,path:"/details",component:R}),o.a.createElement(y.a,{exact:!0,path:"/create",component:P}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(c.a,null,o.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[356,1,2]]]);
//# sourceMappingURL=main.7569a04a.chunk.js.map